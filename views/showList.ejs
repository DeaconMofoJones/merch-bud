<% include partials/header.ejs %>

<!-- filter user items with store name -->
<% items = []; %>
 <% for (var i = 0; i < user.items.length; i++) { 
	 if (user.items[i].store==storeName) { 
		items.push(user.items[i])
	 } 
 } -%>

<% function capitalize(string)  { %>

    <% return string.charAt(0).toUpperCase() + string.slice(1); %>

<% } %>

<div class="container showList">
	


<div class="ui segment">
	<h1 class="ui header"><%= capitalize(storeName)%> List</h1>
</div>

<% var types = [] %>

<% for (var i = 0; i < items.length; i++) {
	 	if(types.indexOf(items[i].type)==-1) {
		 	types.push(items[i].type);
	 	}
 	} %>



<% for (var k = 0; k < types.length; k++) { %>
	<div class="ui vertical secondary menu fluid showList">
			<div class="item header"><h3><%= types[k] %></h3></div>
			<% for (var i = 0; i < items.length; i++) { %>
				<% if (items[i].type==types[k] && items[i].listCount>0) { %>
					<div class="item" style="margin: auto; height: 100%; padding:3px 0;">

						<div class="" style="padding: 2px 20px;">
						<p class="listCountDisplay <%= items[i]._id %>" style="margin: 0; width: 100%;" UID="<%= items[i]._id %>"><%= items[i].listCount %> <%= items[i].name %></p>

						</div>
					</div>
				<% } %>
			<% } %>
		</div>
<% } %>
<div class="spacer">
	
</div>

</div>

<script type="text/javascript">
	$(".listCountDisplay").click(function(){
		$(this).toggleClass("line-through");
	})
</script>




<% include partials/footer.ejs %>